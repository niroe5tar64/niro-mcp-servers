# テスト標準

[目的: 何をテストするか、どこに置くか、どう構成するかを指針化する]

## フィロソフィー
- 実装ではなく振る舞いをテストする
- 速く信頼できるテストを優先し、壊れやすいモックは最小化
- 重要経路は深く、網羅は 100% を目指さない

## 構成
選択肢:
- 同居: `component.tsx` + `component.test.tsx`
- 分離: `/src/...` と `/tests/...`
デフォルトを 1 つ選び、例外は根拠付きで許可する。

命名:
- ファイル: `*.test.*` または `*.spec.*`
- スイート: 何をテストするか; ケース: 期待する振る舞い

## テスト種別
- ユニット: 単一ユニット、依存はモック、非常に高速
- 統合: 複数ユニット、外部のみモック
- E2E: 全フロー、モック最小、重要なユーザージャーニーに限定

## 構造（AAA）
```typescript
it('does X when Y', () => {
  // Arrange
  const input = setup();
  // Act
  const result = act(input);
  // Assert
  expect(result).toEqual(expected);
});
```

## モック & データ
- 外部（API/DB）はモック; システム本体はモックしない
- ファクトリ/フィクスチャを使い、テスト間の状態をリセット
- テストデータは最小かつ意図が明確なものにする

## カバレッジ
- 目標: [% overall]; 重要ドメインは高め
- CI で閾値を強制; 例外はレビュー理由が必要

---
_パターンと判断に集中する。ツール固有の設定は別で管理する。_
