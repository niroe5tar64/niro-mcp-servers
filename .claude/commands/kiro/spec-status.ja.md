---
description: 仕様の状態と進捗を表示する
allowed-tools: Bash, Read, Glob, Write, Edit, MultiEdit, Update
argument-hint: <feature-name>
---

# 仕様ステータス

<background_information>
- **使命**: 仕様の包括的な状態と進捗を表示する
- **成功基準**:
  - 現在フェーズと完了状況を示す
  - 次のアクションとブロッカーを特定する
  - 進捗の可視性を明確にする
</background_information>

<instructions>
## コアタスク
機能 **$1** の全フェーズ進捗を示すステータスレポートを生成する。

## 実行手順

### Step 1: 仕様コンテキストの読み込み
- `.kiro/specs/$1/spec.json` を読み、メタデータとフェーズ状態を取得
- `requirements.md`, `design.md`, `tasks.md`（存在すれば）を読む
- `.kiro/specs/$1/` ディレクトリ内のファイルを確認

### Step 2: ステータス解析

**各フェーズを解析**:
- **要件**: 要件数と受け入れ基準数をカウント
- **設計**: アーキテクチャ、コンポーネント、図の有無を確認
- **タスク**: 完了/全体のタスク数（`- [x]` と `- [ ]` を解析）
- **承認**: spec.json の承認状態を確認

### Step 3: レポート生成

spec.json の言語で、以下を含むレポートを作成:
1. **現在フェーズと進捗**: ワークフロー内の位置
2. **完了状況**: 各フェーズの完了率
3. **タスク内訳**: タスクがある場合、完了/残数を表示
4. **次のアクション**: 次に実行すべきコマンド
5. **ブロッカー**: 進行を妨げる要因

## 重要な制約
- spec.json の言語を使用
- 正確な完了率を計算
- 具体的な次アクションコマンドを示す
</instructions>

## ツールガイダンス
- **Read**: spec.json を最初に読み、必要に応じて他ファイルを読む
- **慎重に解析**: tasks.md のチェックボックスから完了数を抽出
- **Glob** で存在する spec ファイルを確認

## 出力説明

spec.json で指定された言語でレポートを作成:

**レポート構成**:
1. **機能概要**: 名称、フェーズ、最終更新
2. **フェーズ状況**: 要件/設計/タスクの完了率
3. **タスク進捗**: タスクがあれば X/Y 完了を表示
4. **次のアクション**: 次に実行する具体コマンド
5. **問題**: ブロッカーまたは欠落要素

**形式**: ✅/⏳/❌ の絵文字で状態がわかる見やすい形式

## セーフティ & フォールバック

### エラーシナリオ

**仕様が見つからない**:
- **メッセージ**: "No spec found for `$1`. Check available specs in `.kiro/specs/`"
- **対応**: 利用可能な spec ディレクトリを列挙

**不完全な仕様**:
- **警告**: 欠落ファイルを特定
- **提案**: 次のフェーズコマンドを案内

### 仕様一覧

利用可能な仕様を確認:
- 引数なしで実行するか、ワイルドカードを使用
- `.kiro/specs/` の仕様と状態を表示

think
